<!--
 * InitializeRepo.targets
 * 
 *   Created: 2023-01-16-10:27:10
 *   Modified: 2023-01-16-10:27:10
 * 
 *   Author: Justin Chase <justin@justinwritescode.com>
 *   
 *   Copyright Â© 2022-2023 Justin Chase, All Rights Reserved
 *      License: MIT (https://opensource.org/licenses/MIT)
-->

<Project>
  <Target Name="InitializeRepo" BeforeTargets="Build">
    <Exec Command="dotnet tool install -g dotnet-file" IgnoreExitCode="true" Condition="$(IsAtRoot)" />
    <Exec Command="dotnet file add 'https://github.com/justinwritescode/JwcRepoInitSdk/blob/main/Init.proj'" 
          Condition="$(IsAtRoot)"
          IgnoreExitCode="true" />
    <Exec Command="dotnet file sync" 
          Condition="$(IsAtRoot)"
          IgnoreExitCode="true" />
    <MSBuild Projects="Init.proj" Targets="Restore" Condition="Exists('Init.proj') And $(IsAtRoot)"  />
  </Target>
</Project>
